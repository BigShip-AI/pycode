import random
import xlwt
import requests
from bs4 import BeautifulSoup

url = 'https://hotel.qunar.com/napi/list'
headers = {
    "Cookie": "QN1=00008580306c3b17edb864cc; QN300=s%3Dbaidu; QN99=4454; QN205=s%3Dbaidu; QN277=s%3Dbaidu; csrfToken=X1j8kjKSTmUEirZrDzonD1MniEJzanJ5; _i=ueHd8S5G7cyuipYXUIQWc5CgD1-X; QN601=a94eafcef3cab6a4319fb9d5e61e8376; QN269=0D8B71D055A511EC9E97FA163E6051F0; QN48=tc_1dfc3b184abbee44_17d89b3aa8a_4ffa; QN163=0; QN667=A; fid=e111c10c-25df-4588-b910-d0cf09bf2817; qunar-assist={%22show%22:false%2C%22audio%22:false%2C%22speed%22:%22middle%22%2C%22zomm%22:1%2C%22cursor%22:false%2C%22pointer%22:false%2C%22bigtext%22:false%2C%22overead%22:false%2C%22readscreen%22:false}; HN1=v10f43a16ebe40c4495bc744472f600fb6; HN2=quskkrkguuuks; BMAP_SECKEY=e7ccd76a71cca7384bc9d56993ddbed2e19bbff4744b85e39bb3d65be30e7613e76ae0b8689ae7f5bb14207898aef6950e69432a9314fa542a239fa64bfb5b45f52f55806b86660ad8f42ff8e193e6e61a0de40d8622b27753c80e492b40c89c532aac0f141e844fa961ad7e509876b0a900fb3530d36a843b9c07d1ba865a22660676ddb2e80003305b531d99c563ef5aa1550b78883f85514b45f41300b51825e8d59500a309b33abf16ccf87414fd1f1c3d2cb5bbf5562e07604dc46c8dc32ad230a0b55c123795acd0e95c8598f3f684b94395aaa6eec335678b45ddda5a514d1e5b7e6fca935f46a83546379d4d; ctt_june=1638523791783##iK3wWsPwauPwawPwa%3DD%2BEKfGVDPNXPfRaPD%2BWDkIEDaAXPEhaPkGEKfhER3siK3siK3saKjsVRjNaStwVKt%2BVhPwaUvt; QN243=12; _vi=qvvKOsmyvVGWwzUHPLBDf5Mjhl0bWrMZHfNCtCKaSE7vmgPhwqt5Ojk86r9GnwDFJ8uQd7PvK1atxSQMfFmhn_KjxQH8FrbRAelacT0DfKVBkfSWXpfVbVlKKuNZa8VINjynLGR_PyTgtO9VN1QEnAACMlJrHJAfafSJhjJDrL82; tabIndex=0; cityUrl=nanchang; cityName=%25E5%258D%2597%25E6%2598%258C; checkInDate=2021-12-05; checkOutDate=2021-12-06; ctf_june=1638523791783##iK3waKvsWhPwawPwasfIXs2%3DXsv8WSXmasEGX2j%2BW%3DaAEPDNVDXwXKDNXsvmiK3siK3saKjsVRjNWSgAWKvsawPwaUvt; cs_june=d2cb6a409e276b52f2c4d251eb198943d45545adcd89bb9c9a3384af31b79a486841d6adc59d3faae1ff56ed6f969da867f29ee8ade71f9cb65bb97efd5c5e36b17c80df7eee7c02a9c1a6a5b97c1179a4c8f3dfaaf994e4a42639f6aea4012a5a737ae180251ef5be23400b098dd8ca; QN271=de6b96d8-cafa-4439-8a1c-00a995a35a67; QN267=1045566919451c01e5; __qt=v1%7CVTJGc2RHVmtYMSsrRWUxaGxpdmJYSWxWSVdjMG9vcllqdFNHRmdOZ25QMzh4eWhOdS9xMllFdGk4bVQxMkhtMVczNm9lRjZmNXBINmEyZncxL3JZTktOZmFHcjlaTG1YSm1Zdy9nY1lSNlVMaEZhVXZibDBvdWNIV29JY3prUXJVUHM4aExXbVMxVDliZnNuMjVnY05ENHlXZVd5K3hvSldzRHc4R2hlWHRFPQ%3D%3D%7C1638696964452%7CVTJGc2RHVmtYMTlrcjBTOExKeE54Ry9zSnhDZmhERks1Q1lxdjJheEduL0t1c2VvV3lHYklRTHExV0xlcmFhd2xPdGF6aGVjQkxJSVVHSW5zUWZiY2c9PQ%3D%3D%7CVTJGc2RHVmtYMSt3d3V4Zm8wVHNoZzdtS2hKaHhVMENmeDllZmMyOXBFNktYTWwxRWlzUTRkR1lsQzZCdmZiVkI2ZG1LREZyWHhtOUM2cFE0UzBUYU1LYU1uNTQ4R1AwYnlZeU1OOVBSZXhVanJPSTNxVHZ6bm9oc0dwK05Ub0d5dXN6ZnFlY0tZMkNDNnIrNzV4RkxTbU1ZQUJlcG1hM3hGb2V2cUVqWlY4Y05ZdXN5aURIME03Z0l5d05NUUxSMlZVMzd3bFNDaTJKTWJDeDZuaDdnVkUvU0QvMDk2TW5xcVJ4dUdhU3g4MisxT1lBbVBRaHFkdVdVYmR5MkRKczJWYTdVTkpPWjNEbG1KOHR1LzhqMFZnQXFQK0plNEpxL1RmL3hnOGZ6L1lZNzFqWExINXBuWkZPdVZNdFFHK296SnVTME5NZk1tWFh5L3d1Ni90TXJvOFRUWlRYZXowWWhXOC81VEFCN3V0dEdUZGcrN2VocUE1WXRMcHAvR3FvOTBWTWR6bFM2Z0thY0tVWEZDS3V5dmplOHpUNmJZZUNWTmFmNHVnR2ZCRy9HZ1N4cjFsVnhRbDlLOTBIR1VFZ2NvWVJXakZNNHUrdnJOOHJkNHBLYmZGTlJHVllva2xJWUVjYitIb2dJRUpVRWg5RC91WWM3d0l0M1llY2t6eEhPRW9mQVdoVmt6aE5pSDRyN0hObDZBclV6VjBSenhXTEpCSlhyMDlZckVuUjhjZm8rUDQ4bXpYWTNmWmlVcEptVUJ6UHZvaU5MRHJ0dlpyd1BQbFl2bHkwZjBSWFhmb2lhRTk0L2lsQUtiSnBrOVZ0UDVHdnhrSzdmQnl2dVZLWXhPK0VXUkZEa0trRndCTHNraFlHNXBqOG55V2xNR253bFNYR1FJNzg4QjA9",
    # "Content-Type": "application/x-www-form-urlencoded"
    "user-agent": 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.55 Safari/537.36 Edg/96.0.1054.43'
}
data = {
    "b": {"bizVersion": "17", "cityUrl": "nanchang", "cityName": "南昌", "fromDate": "2021-12-05", "toDate": "2021-12-06",
          "q": "新建区", "qFrom": 3, "start": 60, "num": 20, "minPrice": 0, "maxPrice": -1, "level": "", "sort": 0,
          "cityType": 1, "fromForLog": 1, "uuid": "", "userName": "", "userId": "", "searchType": 0,
          "hourlyRoom": 'false', "locationAreaFilter": [], "comprehensiveFilter": [{"params": "民宿", "reqParams": [
            {"param": "民宿", "title": "民宿", "secondShowSelected": 'false', "jsonExtra": "{}", "suggestType": ""}],
                                                                                    "filterType": "HOTEL_TYPE"}],
          "vtoken": "pclist-v2-990029ee9222f65a9e3ea02e4ce4a9ae", "channelId": 1},
    "Bella": "1638523791783##dd7f3a52677099db0412500e4e6aa09a96abc9bb##iKohiK3wo-W0g2G5f9N=iK3wiKWTiK3wK9Fry9nLjuPwESPbahPwahH-y9N2c+osiK38K0X0aSvnahm8iKWhiK38kO0bWSX0a=30aSTmWSXQiK38X-T8cIk-f9iqy-X0a2jAasgbasj0aSvpu=HPKP80a2a0aSTLy9e0iK38EOkSyO1QiK38XOHwcOA0iKiIVKjbahm=WSj=qSPAiK38POGMj-iQiKiIWKa+qSaOiK38E9E5iKiIVKjbahmnaRP=qSXsiK3wiKiRiK3wgMkMf-i0gUPwaUPsXuPwaMH=oCTsiKWTiKiIiKiIyIF=f98bg-kbj-3bjOFeiKiIjOm0a2fbj9NSyIGbfwPwE5a8aIe0dK3saS3saKaNiKWIf5ixcPEHoIP0a=XwaR3nqKDwqKvAiK3OoIFDj-E0iKWDaSvwau=naU=8WUPwaUPwXwPwa5TQjOWxcI10aS30a=D0aS3=WK38iK3siK3sWSvwE2X=WK3+VDWIXSPAaDiTXsWGW2GGW2aAaDaNWPD0aSa0aSanWSamWS2OVKjAaS28iK3wiKiRiK3wgOHQgMn0duPwaUPsXuPwaSvsVKo2aKX8VIPAaRXnaKfUjKf2VIG2a9XmWSGMVRPniK3wiKiRiK3woI0=cIP0aS30a=D0aS30EKa0VRv0VKv0EKP0VDX0VKg0EKj0VKt0VDa0EKj0XSv0VKD0EKP0XPP0X2j0EK20VRP0VK30EKP0X2D0VKg0EK20XK30VRX0EKt0XPP0XK30EKa0VRv0VKD0EKj0XSv0VKD0EKP0XPP0X2j0EK20VRP0VK30EKP0X2D0VKg0EKj0VPj0XKP0EKt0XPj0XKi/iPPAiPGGiPiGiPPNiPDOiKtOiPP=iPiDiKHIiPPAiPGGiPiIiPP=iPihiP3+iPPOiPD8iPiRqukGWuPmEukhXUkGWuPNawkTXukGWuPmWhkhEUPwaUPwXwPwaMe0d-oxgMEsiK3wiKWTiK3wiPPAiKHDiK2+iPPOiK2miKHRiPPOiP38iK2niPPAiPGGiPiIiKiRiPPAiKHDiK2+iPPOiK2miKHRiPPOiP38iK2niPPAiPGGiPiIiPPNiKtAiK2wiPPAiPiTiK2+iKiRiPPAiKHDiK2+iPPOiK2miKHRiPPOiP38iK2niPPAiPGGiPiIiPPNiKtAiK2wiPPAiPiTiK2+iPPNiPDwiKt=iPPmiPGGiPDwiKiRiPPAiKHDiK2+iPPOiK2miKHRiPPOiP38iK2niPPAiPGGiPiIiPPAiPGGiPiGiPPNiPDOiKtOiKiRiPPAiKHDiK2+iPPOiK2miKHRiPPOiP38iK2niPPAiPGGiPiIiPP=iPiDiKHIiPPAiPGGiPiIiKiRiPPAiKHDiK2+iPPOiK2miKHRiPPOiP38iK2niPPAiPGGiPiIiPPNiKtAiK2wiPPAiPiTiK2+iPP=iPihiP3+iPPOiPD8iPiRiKiRiPPAiKHDiK2+iPPOiK2miKHRiPPOiP38iK2niPPAiPGGiPiIiPPNiKtAiK2wiPPAiPiTiK2+iPPOiK0IiPDAiPPmiPGIiPDwiKiRiPPOiP38iK2niPPAiPGGiPiIiPPNiKtAiK2wiPPAiPiTiK2+iKiRiPPOiP38iK2niPPAiPGGiPiIiKiRiPPAiKHGiPihiPPAiK2siPGTiPPAiKt=iPiIiPPNiKtAiK2wiPPAiPiTiK2+iPPNiPDwiKt=iPPmiPGGiPDwiK3wiKiRiK3wfIksj+iQgCEQcOm0aS30a=D0aS30EKP0VDP0X230EKP0VKa0XPD0EKP0VRX0X2j0EK20VRP0VK30EKP0X2D0VKg0EKX0XSt0X2D0EKj0VR30XKt0EKj0VDP0XKt0EKt0VDX0VKv0EKP0VDX0VKg0EKj0VKt0VDa0EKj0XSv0VKD0EKP0XPP0X2j0EK20VRP0VK30EKP0X2D0VKg0EK20XK30VRX0EKt0XPP0XK30EPj0X2a0VDa0EKj0VR30XKt0EKP0VDj0XPj0EKX0X230XKP0EK20VRv0VPD0EKt0X2j0VRg0EKP0XPj0XS20EKj0XPj0VKX0EKP0XPP0VPP0EKj0VKg0XSj0EKX0X230XSg0EKj0XKv0X2a0EPj0X2a0VDa0EKj0VPj0XKP0EKj0VR20X2P0EKP0VDX0VKg0EKj0VKt0VDa0EKj0XSv0VKD0EKP0XPP0X2j0EKX0X2a0VKt0EKt0XSX0XKt0EK20VRP0VK30EKP0X2D0VKg0EPj0X2a0VDa0EKg0X2X0VKD0EKX0XSt0VDD0EK20XK30VRX0EKt0XPP0XK30EK20VRP0VK30EKP0X2D0VKg0EKa0VRv0VRD0EKP0XPP0X2P0EK20XKj0VRj0EKa0VRv0VRD0EKj0VKg0VRP0EKP0X2D0VKg0EPj0X2a0VDa0EKt0X2j0VKt0EKj0VPa0VR20EKj0VP30XSX0EKP0XKX0VPD0EKX0X2a0VKt0EKt0XSX0XKt0EKP0VDX0VKg0EKj0VKt0VDa0EK20VRP0VK30EKP0X2D0VKg0EKX0X2P0VP30EKj0VR30XKt0EK20XK30VRX0EKt0XPP0XK30EKa0VRv0VR30aS30a2a0aSipc+W=iK3wiKWTiK3wyIF=f98bg-kbj-3bjOFeiK3wiKiRiK3wgOWwy-T=P+iSiK3wiKWTiKkhiK3wyCE=gCa0a=D0a2j0a2fwc9WsfIjbg-kbj-3bjOFeiKiIj-TQiKiIfIkOy9W0iKiIj9NsoOkwqMQscOm0a=fSj9nLjMGSywPsEIWHcInUj9Wl-sDOastOVKj+WKj8aKP0aSfsf-Wsy9Fbu9X0a=E2fKfUVKf2VhASj9fHqKX=as2eVIDnjw=8aIDNVKkHaskHWSg0aSfHc5W+f-30a=EacMo9uKGwa2ihu9n-fkkJE-QqKMGLPkFa-=jwWMiLuDN3KkECyDiNKR0Gy0oe9kjmu=NKEGf5gRgNyOnjfKEGKMA2k2A2fRkicREb9DWxEP2+oAoudR0zE-EkcGfAcAk3uOH-VCH2gDi=cONacMnDKMNTE=nsdCQ7kkjsE9jnE=eMdGfNkMWrKStsa0H7c0kuc5ouu=NsaSosaKWTaAf3uOQ5uG0/VINpyDjwq9fIE=WHKka+fCWHPMLnasTwk2oag0GiVDNsgDeyu9GjaIFPaCkakDgNVCTxESiM-svwE=AOo=oWo=Nxy5HxyMjw9kkayPAqKSEhyAG5kMn9okH3KINTPIQLoIQ3gG0Lk5kjuDFbVkfIV9WluDfCdkGKWDoEfPAiP9eTgDHpu9nIj2f3VGHW92E9K9FadCTzaRT89SHMXP0fgAirPIoLWRTDcDHuc5oRaRGhdSfLcI2mj003aIATkDkSXMN7998nX-3=PATjP2oTakieuSE9a=ibE2oKgMEPiK3wiKiRiK3wyCE=gCa0a=D0a2j0a2fwc9WsfIjbg-kbj-3bjOFeiKiIj-TQiKiIfIkOy9W0iKiIjOHHcIn0cMo0qMQscOm0a=fSj9nLjMGSywPsEIWHcInUj9Wl-sDOastOVKj+WKPmVR30aSfsf-Wsy9Fbu9X0a=E2fKfUVKf2VhASj9fHqKX=as2eVIDnjw=8aIDNVKkHaskHWSg0aSf2cOAHy9m0a=Eno9NHgUNScO=0aSfxgMoifhPsECkSf9N=f-3bcIF5y9m0aS30a2a0aSipoCE8gwPsXuPwEUPwE5Gwf-Txg5Xbg-kbj-3bjOFeiKiIgs30a2fzgwPwE5Gwf-Txg5Xby5a0aS30a2a0aSipoCE8gwPsXuPwEUPwEMWxc9AxcUNno9NHg5QrqMWxcuPwE5W=j-EQjwPwEMH0j9E0gUPwE5TwfhPwE5WSgM08oCa0a2fQcME0dhNey9mby5a0aS30a2a0aSipoCE8gwPsXuPwEUPwEMWxc9AxcUNno9NHg5QrqMWxcuPwEMHM-+GrdUPwE5TwfhPwE5WSgM08oCa0a2fpc+E0chPwEMH0j9E0g0Fej90biKX8VKjnWKEUaIPmWMDNj9asWR2NfIPAjS2nWKG2WKWSWR2by5a0aS30WPX0W=Xt##9393581638696965321##b"
}
data = {}
res = requests.post(url, headers=headers, data=data)
# soup = BeautifulSoup(res, "lxml")
# name = soup.select(".name")
print(res)
